---
layout: post
title:  "现在问题来了，为什么 Android 设备需要比 iPhone 更大的 RAM"
date:   2014-10-12 18:20:46
author: 大蔚陈
categories: 
- Others
img: iphone6.jpg
thumb: iphone6-small.png
---


一直有一个问题，市面上大部分的 Android 手机，RAM 至少都是 2GB。但是即使是 iPhone 6 plus，RAM （内存或者叫主存）也只是 1GB 而已，而且 iOS 的性能表现比 Android 更好。现在问题来了，这到底是为什么呢？

**Android**，或者更准确地说是 **Java**，在内存管理上使用的是**垃圾回收机制**（Garbadge Collection，以下简称 GC）。<!--more-->

为了更高效，GC 需要大量的空间。根据 GC 的类型，你实际上需要比你实际使用的2倍到8倍内存才能获得良好的性能。当内存受到限制的时候，系统就会明显变慢。

服务于内存的话，需要消耗电量。所以更大的内存 = 更多的功耗。

如果你有4-8个相对的内存空间，GC是真的非常快。换句话说，你需要比你实际使用的多4-8倍以上的内存，才能有超好的性能。但是当内存被限制了的话，性能就会降低。

如果有足够大的空闲内存的话，Android 会保持你所有已打开的程序在内存中处于活动状态。因为所有的应用都只会在第一次运行的时候初始化，然后在你使用手机的时候一直保持在活动状态，这样可以减少电量的使用。这些应用在内存中处于活动状态时，并不会消耗电量，因为进程通常不会运行，除非是后台进程存在。

对于 Android 来说，更多的内存意味着可以让更多的应用程序处于活动状态，从而可以让用户更快速的再应用之间进行切换。不过需要注意的是，当我们需要内存但是不够的时候，Android 会自动杀死较少使用的进程，直到我们有足够的内存来运行我们的应用。

iOS 其实也是一样的，所有的最近使用的应用程序都保留在内存中，处于暂停状态。所以，总的来说，就是 Android 和 iOS 如何处理这些暂停的应用程序的问题。

Android 让开发者在后台运行进行进程比在 iOS 下更自由，因为 iOS 会杀掉任何它认为不需要运行的过程。iOS 下后台播放音乐这种类似的应用可以常驻。

通常情况下，iOS 给开发者和开发者可以做什么的限制，让它们不会做出太多的损害。但是 Android 给开发者的自由度更高，这经常导致内存泄露或者资源占用后台进行等问题，这意味着在 Android 设备上安装时需要更加注意。再加上 Android 是开源的，每一个手机厂商在出货前，都可能会增加它自己的应用程序，这意味着每个手机厂商都有添加一个霸占内存的应用的。

还有一个，虽然 Android 使用 Java，Android 促进了一大堆为 Android 设备而优化 Java 代码的最佳实践，比如说减小应用大小，内存使用情况，以及 GC 的影响，等等。但是比较奇葩的一点事，为了做到这些，Android 将很多 Java 里的好的实践声明为坏的实践，而且这些并非所有的开发人员都知道。也就是说，开发人员认为他们在写好的代码的时候，作用可能恰好相反。

这就是为什么 Android 设备都有 2G 以上内存的原因。

iOS 使用的解决方案和 Java 不一样，并不会导致这个问题。另外，苹果的硬件也是有苹果公司进行设计和测试的，由苹果的合作伙伴进行制造的，iOS 页是针对硬件做了优化的，Android 是开源的，厂商众多，软件操作系统独立于硬件厂商，并没有像苹果这种控制权。

所以这是为什么在 iOS 中 1GB RAM 的性能表现比 Android 的 3GB 还要出色。

